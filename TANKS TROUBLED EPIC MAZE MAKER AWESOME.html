<html>
<title>TANKS TROUBLED EPIC</title>
<canvas width="500" height="500" style="border:4px solid black" id="display"></canvas>
<script>
var rows = 17;
var columns = 35;
var vertical = [];
var horizontal = [];
var wallWidth = 4;
var blockWidth = 50;


display.width = blockWidth * columns + wallWidth * (columns - 1);
display.height = blockWidth * rows + wallWidth * (rows - 1);

function buildMaze() {
  for (i = 0; i < columns-1; i = i + 1) {
    var w = [];
    for (j = 0; j < rows; j = j + 1) {
      w[j] = false;
    }
    vertical[i] = w;
  }
  for (i = 0; i < rows-1; i = i + 1) {
    var w = [];
    for (j = 0; j < columns; j = j + 1) {
      w[j] = false;
    }
    horizontal[i] = w;
  }
  var total = 0
  while (true) {
    if (Math.random() * 10 <= 5) {
      var column = Math.floor(Math.random() * (columns-1));
      var row = Math.floor(Math.random() * rows);
      if (vertical[column][row] && total > 300) {
        break;
      }
      else {
        vertical[column][row] = true;
        total = total + 1;
      }
    }
    else {
      var row = Math.floor(Math.random() * (rows-1));
      var column = Math.floor(Math.random() * columns);
      if (horizontal[row][column] && total > 300) {
        break;
      }
      else {
        horizontal[row][column] = true;
        total = total + 1;
      }
    }
  }
}
buildMaze ();
function draw () {
  var ctx = display.getContext ("2d");
  for (i = 0; i < columns-1; i = i + 1) {
    ctx.fillStyle = "black"
    for (j = 0; j < rows; j = j + 1) {
      if (vertical [i] [j]) {
        ctx.fillRect (blockWidth + i * (blockWidth + wallWidth), j * (blockWidth + wallWidth), wallWidth, blockWidth);
      }
    }
  }
  for (q = 0; q < rows-1; q = q + 1) {
    ctx.fillStyle = "black"
    for (r = 0; r < columns; r = r + 1) {
      if (horizontal [q] [r]) {
        ctx.fillRect (r * (blockWidth + wallWidth), blockWidth + q * (blockWidth + wallWidth), blockWidth, wallWidth);
      }
    }
  }
}
draw ();
</script>
</html>
